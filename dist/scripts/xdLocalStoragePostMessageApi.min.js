"use strict";window.XdUtils=window.XdUtils||function(){function a(a,b){var c,d=b||{};for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);return d}return{extend:a}}(),function(){function a(a,b){var c=XdUtils.extend(b,k);c.id=a,parent.postMessage(JSON.stringify(c),"*")}function b(b,c){var d=localStorage.getItem(c),e={key:c,value:d};a(b,e)}function c(b,c,d){localStorage.setItem(c,d);var e=localStorage.getItem(c),f={success:e===d};a(b,f)}function d(b,c){localStorage.removeItem(c),a(b,{})}function e(b,c){var d=localStorage.key(c);a(b,{key:d})}function f(b){var c=JSON.stringify(localStorage).length;a(b,{size:c})}function g(b){localStorage.clear(),a(b,{})}function h(a){var h;try{h=JSON.parse(a.data)}catch(a){}h&&h.namespace===j&&("set"===h.action?c(h.id,h.key,h.value):"get"===h.action?b(h.id,h.key):"remove"===h.action?d(h.id,h.key):"key"===h.action?e(h.id,h.key):"size"===h.action?f(h.id):"clear"===h.action&&g(h.id))}function i(){var a={namespace:j,id:"iframe-ready"};parent.postMessage(JSON.stringify(a),"*")}var j="cross-domain-local-message",k={namespace:j};window.addEventListener?window.addEventListener("message",h,!1):window.attachEvent("onmessage",h),i()}();